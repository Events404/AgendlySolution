@using Utility.ViewModel
@model UserViewModel

@{
    ViewData["Title"] = "Manage Role";
    Layout = "~/Views/_DashboardLayout.cshtml";
}

<div class="container mt-5">
    <!-- Header -->
    <div class="mb-4 text-center">
        <h3>@Model.UserName</h3>
        <p class="text-muted">Manage Role Permissions</p>
    </div>

    <!-- Form -->
    <form method="post" class="card shadow-sm">
        <div class="card-body">
            <!-- Hidden Input for User Id -->
            <input type="hidden" asp-for="Id" value="@Model.Id" />

            <!-- Role Permissions Section -->
            <fieldset>
                <legend class="h5 mb-4">Assign Roles</legend>
                <div>
                    @for (int i = 0; i < Model.Roles.Count; i++)
                    {
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" asp-for="Roles[i].IsSelected" value="@Model.Roles[i].Name" id="roleSwitch-@i" />
                            <label class="form-check-label" for="roleSwitch-@i">
                                @Model.Roles[i].Name
                            </label>
                        </div>
                    }
                </div>

            </fieldset>
        </div>

        <!-- Validation Summary -->
        <div class="card-body">
            <div asp-validation-summary="All" class="text-danger"></div>
        </div>

        <!-- Card Footer -->
        <div class="card-footer d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">
                Save Changes
            </button>
            <a asp-action="Index" class="btn btn-secondary">
                Back
            </a>
        </div>
    </form>
</div>
